{% extends 'base.html' %}
{% block title %}
BookLoop | Review
{% endblock%}
{% block content %}
<div class="w-full max-w-3xl mx-auto mt-10 bg-white rounded-2xl shadow-lg p-6">
  <h2 class="text-2xl font-bold mb-4 text-gray-800">Review History</h2>

  <!-- Scrollable Review List -->
  <div class="overflow-y-auto max-h-[70vh] space-y-5 pr-2">

    <!-- Review Card -->
    

    <!-- Another Review -->
    {% for review in reviews %}
    <div class="border rounded-xl p-4 bg-gray-50 hover:bg-gray-100 transition">
      <div class="flex items-center justify-between mb-2">
        <div class="flex items-center space-x-3">
          <!-- <img src="{{review.user.user_image.url}}" alt="User" class="w-10 h-10 rounded-full border" /> -->
          <div>
            <p class="font-semibold text-gray-800">{{review.user.first_name}} {{review.user.last_name}}</p>
            <p class="text-xs text-gray-500">Yesterday</p>
          </div>
        </div>
        <div class="flex text-yellow-400 text-lg">
          {{review.rating}}
        </div>
      </div>

      <div class="bg-white rounded-lg border px-3 py-2 mb-3 flex items-center justify-between">
        <div>
          <a href="{% url 'specific_book' review.book.id %}" class="text-sm font-semibold text-gray-800">Book: <span class="font-normal text-gray-700">{{review.book.title}}</span></a>
          <p class="text-xs text-gray-500">by {{review.book.author}}</p>
        </div>
        {% if review.book.book_image %}
        <img src="{{ review.book.book_image.url }}" alt="Book Cover"
             class="w-12 h-16 object-cover rounded-md border shadow-sm" />
        {% endif %}
      </div>

      <p class="text-gray-700">
        {{review.comment}}
      </p>
      {% if review.review_image %}
        <img src="{{ review.review_image.url }}" alt="Book Cover"
             class="w-[250px] h-[250px] object-cover rounded-md border shadow-sm" />
        {% endif %}
      <div class="mt-3 flex items-center justify-between">
        <!-- <button class="btn btn-sm btn-outline btn-primary">Reply</button> -->
        <p class="text-xs text-gray-500">Reviewed on {{review.created_at}}</p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>


{% endblock %}